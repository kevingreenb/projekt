(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=a.n(o),l=a(14),i=a(25),s=(a(79),a(8)),u=a(4),m=a.n(u),p=a(7),d=a(19),h=a.n(d),f=function(e){e?h.a.defaults.headers.common["x-auth-token"]=e:delete h.a.defaults.headers.common["x-auth-token"]},E=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&f(localStorage.token),e.prev=1,e.next=4,h.a.get("/api/users");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},b=a(114),j=a(112),v=a(113),g=Object(s.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){e({type:"LOGOUT"})}}})(function(e){var t=e.auth,a=t.isAuthenticated,o=(t.loading,e.logout),c=r.a.createElement(b.a,{className:"ml-auto"},r.a.createElement(b.a.Link,{href:"/projects"},"Projects"),r.a.createElement(j.a,{title:"Reports",id:"basic-nav-dropdown"},r.a.createElement(j.a.Item,{href:"/deletions-report"},"Deletion Report"),r.a.createElement(j.a.Item,{href:"/logins-report"},"Login Report")),r.a.createElement(b.a.Link,{href:"/projects",onClick:function(e){return o()}},"Logout")),l=r.a.createElement(b.a,{className:"ml-auto"},r.a.createElement(b.a.Link,{href:"/login"},"Login"),r.a.createElement(b.a.Link,{href:"/register"},"Register"));return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{bg:"light",expand:"lg"},r.a.createElement(v.a.Brand,{href:"/"},"Projekt"),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},a?c:l)))});var y=function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"container text-dark main-container"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-4"},"Welcome to Projekt"),r.a.createElement("p",{className:"lead"},"Projekt is a simple app to help you manage your projects. Keep track of your portfolio, post updates, collaborate with others and deliver on time."),r.a.createElement("p",null,"This web app was built with web technologies such as Node, Express React, MongoDB and Boostrap."),r.a.createElement("a",{className:"btn btn-dark btn-lg",href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",role:"button"},"Let's Roll"))))},w=a(51),O=a(10),k=a(35),D=a.n(k),N=a(31),S=a.n(N),x=a(32),T=a(43),C=a(72),A=a(68),P=a(73),R=function e(t){Object(x.a)(this,e),this.value=t,this.next=null},L=function(e){function t(){var e;return Object(x.a)(this,t),(e=Object(C.a)(this,Object(A.a)(t).call(this))).type="stack",e}return Object(P.a)(t,e),Object(T.a)(t,[{key:"insert",value:function(e){var t=new R(e);return this.size<1?(this.bottom=t,this.top=t):(t.next=this.top,this.top=t),this.size++,this}},{key:"remove",value:function(){if(this.size<1)return null;var e=this.top;return 1===this.size&&(this.last=null),this.top=this.top.next,this.size--,e}}]),t}(function(){function e(){Object(x.a)(this,e),this.size=0,this.bottom=null,this.top=null}return Object(T.a)(e,[{key:"insert",value:function(e){return this.size++,null}},{key:"remove",value:function(){return this.size--,null}},{key:"getSize",value:function(){return this.size}},{key:"getBottom",value:function(){return this.bottom}},{key:"getTop",value:function(){return this.top}},{key:"setSize",value:function(e){this.size=e}},{key:"setBottom",value:function(e){this.bottom=new R(e)}},{key:"setTop",value:function(e){this.top=new R(e)}}]),e}()),I=function(e){var t=e.projectTitle,a=e.projectDescription,n=e.deliveryDate;return function(){var e=Object(p.a)(m.a.mark(function e(r){var o,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},c=JSON.stringify({projectTitle:t,projectDescription:a,deliveryDate:n}),e.prev=2,e.next=5,h.a.post("/api/projects",c,o);case 5:return l=e.sent,r({type:"PROJECT_CREATED",payload:l.data}),r(E()),e.abrupt("return",l.data);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},_=function(e,t){var a=t.projectTitle,n=t.projectDescription,r=t.deliveryDate;return function(){var t=Object(p.a)(m.a.mark(function t(o){var c,l,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},l=JSON.stringify({projectTitle:a,projectDescription:n,deliveryDate:r}),i="/api/projects"+e,t.prev=3,t.next=6,h.a.patch(i,l,c);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.error(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[3,8]])}));return function(e){return t.apply(this,arguments)}}()},q=(a(107),[]),F=new L;var Y=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,username:e.auth.user}},{createProject:I})(function(e){var t=e.isAuthenticated,a=e.username,o=e.createProject,c=(e.history,function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){fetch("http://localhost:5000/api/projects/",{headers:{"x-auth-token":localStorage.token}}).then(function(e){if(e.ok)return e.json();throw Error("Error fetching projects.")}).then(function(e){q.length<1&&(q=Object(w.a)(e)),r(e)}).catch(function(e){console.error(e)})},[]),{projects:a,setProjects:r}}()),l=c.projects,s=c.setProjects,u=Object(n.useState)([]),d=Object(O.a)(u,2),h=(d[0],d[1]);if(!1===t)return r.a.createElement(i.a,{to:"/login"});var f=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n,r,c,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0===F.size?alert("Nothing to undo"):(a=F.remove(),n=a.value[0],r=n.projectTitle,c=n.projectDescription,i=n.deliveryDate,o({projectTitle:r,projectDescription:c,deliveryDate:i}).then(function(e){console.log(e),l.unshift(e),s(l)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("main",{role:"main",className:"container"},r.a.createElement("div",{className:"d-flex align-items-center p-3 my-3 text-white-50 rounded box-shadow "},r.a.createElement("div",{className:"lh-100"},r.a.createElement("h1",{className:"mb-0 text-white lh-100"},"Projekt"),r.a.createElement("small",null,"Since 2019")),r.a.createElement("form",{className:"form-inline my-2 my-lg-0 ml-auto",onSubmit:function(e){return function(e,t,a,n,r){e.preventDefault(),a(Object(w.a)(r).filter(function(e){return e.projectTitle.toLowerCase().includes(n.toLowerCase())}))}(e,0,s,document.getElementById("searchbox").value,q)}},r.a.createElement("input",{className:"form-control mr-sm-2",id:"searchbox",type:"search",placeholder:"Search Project Title","aria-label":"Search"}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search"))),r.a.createElement("div",{className:"my-3 p-3 bg-white rounded box-shadow"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h6",{className:"border-bottom border-gray pb-2 mb-0 col-8"},"Projects"),r.a.createElement("div",{className:"ml-auto col-2"},r.a.createElement("a",{href:"/addproject",className:"text-dark ml-auto darks"},"Add Project ",r.a.createElement("i",{className:"fas fa-plus-square darks"}))),r.a.createElement("div",{className:"ml-auto col-2"},r.a.createElement("button",{className:"text-light ml-auto btn btn-dark",onClick:function(e){return f(h)}},"Undo Deletion")))),l?l.map(function(e,t){return r.a.createElement("div",{className:"media text-muted pt-3",key:t},r.a.createElement("div",{className:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},r.a.createElement("h2",null,r.a.createElement("a",{href:"/project/"+e._id,className:"darks"},e.projectTitle)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,e.projectDescription),r.a.createElement("br",null),"Delivery Date:"," ",r.a.createElement(D.a,{format:"YYYY/MM/DD"},S.a.utc(e.deliveryDate)),r.a.createElement("br",null),"Created Date:"," ",r.a.createElement(D.a,{format:"YYYY/MM/DD"},S.a.utc(e.createdDate)),r.a.createElement("br",null),"Created By: ",e.createdBy,r.a.createElement("br",null),"Project ID: ",e._id),r.a.createElement("a",{href:"/editproject/"+e._id,className:"btn btn-dark"},"Edit ",r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{id:e._id,onClick:function(e){return function(e,t,a,n,r){window.confirm("Are you sure you want to delete the project?")&&(F.insert(a.filter(function(t){return t._id===e})),r(F),fetch("http://localhost:5000/api/projects/"+e,{headers:{"x-auth-token":localStorage.token},method:"delete"}).then(function(r){var o=a.find(function(t){return t._id===e}),c=o.projectTitle,l=o.deliveryDate,i={username:t,projectTitle:c,deliveryDate:l};fetch("http://localhost:5000/api/projects/deletion",{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token},method:"post",body:JSON.stringify(i)}).then(function(e){return e.json()}),n(a.filter(function(t){return t._id!==e}))}))}(e.target.id,a.email,l,s,h)},className:"btn btn-dark"},"Delete ",r.a.createElement("i",{className:"fas fa-trash"})))}):r.a.createElement("div",null,"Loading"))))}),J=a(18),U=a(9),z=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{createProject:I})(function(e){var t=e.isAuthenticated,a=e.createProject,o=e.history,c=(new Date).toISOString().split("T")[0],l=Object(n.useState)({projectTitle:"",projectDescription:"",deliveryDate:""}),s=Object(O.a)(l,2),u=s[0],d=s[1],h=u.projectTitle,f=u.projectDescription,E=u.deliveryDate,b=function(e){d(Object(U.a)({},u,Object(J.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a({projectTitle:h,projectDescription:f,deliveryDate:E});case 3:o.push("/projects");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return!1===t?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){return j(e)}},r.a.createElement("h4",null,"Project Title"),r.a.createElement("input",{name:"projectTitle",value:h,className:"form-control",placeholder:"Your project title",required:!0,onChange:function(e){return b(e)}}),r.a.createElement("h4",null,"Delivery Date"),r.a.createElement("input",{type:"date",id:"datepicker",className:"form-control",name:"deliveryDate",value:E,min:c,required:!0,onChange:function(e){return b(e)}}),r.a.createElement("h4",null,"Description"),r.a.createElement("textarea",{name:"projectDescription",value:f,className:"form-control",rows:"10",required:!0,onChange:function(e){return b(e)}}),r.a.createElement("input",{type:"submit",className:"btn btn-dark",value:"Create"}),r.a.createElement("a",{href:"/projects",className:"btn btn-dark"},"Cancel"))))}),G=window.location.pathname,M=G.substring(G.lastIndexOf("/")+1),B=!0;var W=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{updateProject:_})(function(e){var t=e.isAuthenticated,a=(e.username,e.history),o=(e.updateProject,(new Date).toISOString().split("T")[0]),c=Object(n.useState)({projectTitle:"",projectDescription:"",deliveryDate:""}),l=Object(O.a)(c,2),s=l[0],u=l[1],d=s.projectTitle,h=s.projectDescription,f=s.deliveryDate,E=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),G="http://localhost:5000/api/projects/"+M,fetch(G,{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token},method:"post",body:JSON.stringify({projectTitle:d,projectDescription:h,deliveryDate:f})}).then(function(e){if(e.ok)return e.json();throw Error("Error updating.")}).then(function(e){a.push("/projects")}).catch(function(e){console.error(e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=function(e){u(Object(U.a)({},s,Object(J.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){G="/api/projects/"+M,fetch(G,{headers:{"x-auth-token":localStorage.token}}).then(function(e){if(e.ok)return e.json();throw Error("Error fetching projects.")}).then(function(e){r(e)}).catch(function(e){console.error(e)})},[]),{projects:a,setProjects:r}}().projects;return j&&B&&(d=j.projectTitle,h=j.projectDescription,j.deliveryDate&&(f=j.deliveryDate.substring(0,10),B=!1,u({projectTitle:d,projectDescription:h,deliveryDate:f}))),!1===t?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){return E(e)}},r.a.createElement("h4",null,"Project Title"),r.a.createElement("input",{name:"projectTitle",value:d||"",className:"form-control",placeholder:"Your project title",required:!0,onChange:function(e){return b(e)}}),r.a.createElement("h4",null,"Delivery Date"),r.a.createElement("input",{type:"date",className:"form-control",name:"deliveryDate",value:f,min:o,required:!0,onChange:function(e){return b(e)}}),r.a.createElement("h4",null,"Description"),r.a.createElement("textarea",{name:"projectDescription",value:h,className:"form-control",rows:"10",required:!0,onChange:function(e){return b(e)}}),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Save"}),r.a.createElement("a",{href:"/projects",className:"btn btn-danger"},"Cancel"))))}),H=window.location.pathname,Q=H.substring(H.lastIndexOf("/")+1),K=!0;var V=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{updateProject:_})(function(e){var t=e.isAuthenticated,a=(e.username,e.history),o=(e.updateProject,(new Date).toISOString().split("T")[0]),c=Object(n.useState)({projectTitle:"",projectDescription:"",deliveryDate:"",posts:[],text:""}),l=Object(O.a)(c,2),s=l[0],u=l[1],d=s.projectTitle,h=s.projectDescription,f=s.deliveryDate,E=s.posts,b=s.text,j=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),H="http://localhost:5000/api/projects/"+Q,fetch(H,{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token},method:"post",body:JSON.stringify({projectTitle:d,projectDescription:h,deliveryDate:f})}).then(function(e){if(e.ok)return e.json();throw Error("Error updating.")}).then(function(e){a.push("/projects")}).catch(function(e){console.error(e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={post:{username:"Nala",text:b}},H="http://localhost:5000/api/projects/post/"+Q,fetch(H,{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token},method:"post",body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw Error("Error updating.")}).then(function(e){a.push(H)}).catch(function(e){console.error(e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(m.a.mark(function e(t,a,n){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Want to delete?")){e.next=9;break}return r={postId:t},H="http://localhost:5000/api/projects/post/delete/"+Q,e.next=6,fetch(H,{headers:{"Content-Type":"application/json","x-auth-token":localStorage.token},method:"post",body:JSON.stringify(r)});case 6:n(Object(U.a)({},a,{posts:E.filter(function(e){return e._id!==t})})),e.next=9;break;case 9:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){H="http://localhost:5000/api/projects/"+Q,fetch(H,{headers:{"x-auth-token":localStorage.token}}).then(function(e){if(e.ok)return e.json();throw Error("Error fetching projects.")}).then(function(e){r(e)}).catch(function(e){console.error(e)})},[]),{projects:a,setProjects:r}}().projects;return w&&K&&(d=w.projectTitle,h=w.projectDescription,E=w.posts,w.deliveryDate&&(f=w.deliveryDate.substring(0,10),K=!1,u({projectTitle:d,projectDescription:h,deliveryDate:f,posts:E,text:b}))),!1===t?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){return j(e)}},r.a.createElement("h4",null,"Project Title"),r.a.createElement("input",{name:"projectTitle",value:d||"",className:"form-control",placeholder:"Your project title",required:!0,disabled:!0}),r.a.createElement("h4",null,"Delivery Date"),r.a.createElement("input",{type:"date",className:"form-control",name:"deliveryDate",value:f,min:o,required:!0,disabled:!0}),r.a.createElement("h4",null,"Description"),r.a.createElement("textarea",{name:"projectDescription",value:h,className:"form-control",rows:"10",required:!0,disabled:!0})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),E?r.a.createElement("h4",null,"Comments"):null,E?E.map(function(e,t){return r.a.createElement(n.Fragment,{key:t},e.username," said:",r.a.createElement("div",{className:"row"},r.a.createElement("textarea",{name:"comments",className:"form-control col-11 mr-auto",rows:"3",required:!0,value:e.text,disabled:!0})," ",r.a.createElement("button",{id:e._id,className:"btn btn-dark col-1 ml-auto",onClick:function(e){return y(e.target.id,s.posts,u)}},"x"),r.a.createElement("br",null)))}):r.a.createElement("div",null,"Crap"),r.a.createElement("form",{onSubmit:function(e){return v(e)}},r.a.createElement("h4",null,"Post a Comment"),r.a.createElement("textarea",{name:"text",className:"form-control",rows:"3",required:!0,value:b,onChange:function(e){return function(e){u(Object(U.a)({},s,Object(J.a)({},e.target.name,e.target.value)))}(e)}}),r.a.createElement("input",{type:"submit",className:"btn btn-dark",value:"Post"}),r.a.createElement("a",{href:"/projects",className:"btn btn-dark"},"Cancel"))))}),X=(a(58),Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,o,c,l;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},o=JSON.stringify({email:e,password:t}),c=JSON.stringify({username:e,password:t}),a.prev=3,a.next=6,h.a.post("/api/users/login2",c,r);case 6:return a.next=8,h.a.post("/api/users/login",o,r);case 8:return l=a.sent,n({type:"LOGIN_SUCCESS",payload:l.data}),n(E()),a.abrupt("return",l.data);case 14:a.prev=14,a.t0=a.catch(3),n({type:"LOGIN_FAIL"});case 17:case"end":return a.stop()}},a,null,[[3,14]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,a=e.isAuthenticated,o=Object(n.useState)({email:"",password:"",loginerror:""}),c=Object(O.a)(o,2),s=c[0],u=c[1],d=s.email,h=s.password,f=s.loginerror,E=function(e){return u(Object(U.a)({},s,Object(J.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(d,h).then(function(e){void 0===e&&u(Object(U.a)({},s,{loginerror:"Invalid credentials"}))});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(i.a,{to:"/projects"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-signin",onSubmit:function(e){return b(e)}},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),r.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Email address"),r.a.createElement("input",{type:"email",name:"email",value:d,id:"inputEmail",className:"form-control",placeholder:"Email address",onChange:function(e){return E(e)},required:!0,autoFocus:!0}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:h,id:"inputPassword",className:"form-control",placeholder:"Password",onChange:function(e){return E(e)},required:!0}),r.a.createElement("div",{className:"errorMessage"},f),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Login"}),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(l.b,{to:"/register"},"Register")),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 2019-2020"))))})),Z=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(p.a)(m.a.mark(function e(r){var o,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,h.a.post("/api/users",c,o);case 5:return l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),r(E()),e.abrupt("return",l);case 11:e.prev=11,e.t0=e.catch(2),r({type:"REGISTER_FAIL"});case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.register,a=e.isAuthenticated,o=Object(n.useState)({name:"",email:"",password:"",password2:"",loginerror:""}),c=Object(O.a)(o,2),s=c[0],u=c[1],d=s.name,h=s.email,f=s.password,E=s.password2,b=s.loginerror,j=function(e){return u(Object(U.a)({},s,Object(J.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),f!==E?alert("Passowrds do not match"):t({name:d,email:h,password:f}).then(function(e){void 0===e&&u(Object(U.a)({},s,{loginerror:"Unable to register these credentials."}))});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(i.a,{to:"/projects"}):r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"form-signin",onSubmit:function(e){return v(e)}},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Register"),r.a.createElement("label",{htmlFor:"inputName",className:"sr-only"},"Your name"),r.a.createElement("input",{type:"text",name:"name",value:d,id:"inputName",className:"form-control",placeholder:"Your name...",onChange:function(e){return j(e)},required:!0,autoFocus:!0}),r.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Email address"),r.a.createElement("input",{type:"email",name:"email",value:h,id:"inputEmail",className:"form-control",placeholder:"Email address",onChange:function(e){return j(e)},required:!0}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:f,id:"inputPassword",className:"form-control",placeholder:"Password",onChange:function(e){return j(e)},required:!0}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"password2",value:E,id:"inputPassword",className:"form-control",placeholder:"Confirm Password",onChange:function(e){return j(e)},required:!0}),r.a.createElement("div",{className:"errorMessage"},b),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Register"}),r.a.createElement("p",{className:"my-1"},"Already have an account? ",r.a.createElement(l.b,{to:"/login"},"Sign In")),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 2019-2020")))});a(59);var $=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.isAuthenticated,a=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){fetch("/api/projects/deletions",{headers:{"x-auth-token":localStorage.token}}).then(function(e){if(e.ok)return e.json();throw Error("Error fetching entries.")}).then(function(e){r(e)}).catch(function(e){console.error(e)})},[]),{entries:a,setEntries:r}}().entries;return!1===t?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("h1",null,"Deletions Report"),r.a.createElement("table",{className:"container reportsTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Project Title"),r.a.createElement("th",null,"Delivery Date"),r.a.createElement("th",null,"Deletion Time"))),r.a.createElement("tbody",null,a?a.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.projectTitle),r.a.createElement("td",null," ",r.a.createElement(D.a,{format:"YYYY/MM/DD"},S.a.utc(e.deliveryDate))),r.a.createElement("td",null,e.timestamp))}):r.a.createElement("tr",null,r.a.createElement("td",null,"Loading")))))});var ee=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=e.isAuthenticated,a=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){fetch("/api/users/login2",{headers:{"x-auth-token":localStorage.token}}).then(function(e){if(e.ok)return e.json();throw Error("Error fetching entries.")}).then(function(e){r(e)}).catch(function(e){console.error(e)})},[]),{entries:a,setEntries:r}}().entries;return!1===t?r.a.createElement(i.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("h1",null,"Login Report"),r.a.createElement("table",{className:"container reportsTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Success"),r.a.createElement("th",null,"Login Time"))),r.a.createElement("tbody",null,a?a.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.success?"Valid":"Invalid"),r.a.createElement("td",null,e.timestamp))}):r.a.createElement("tr",null,r.a.createElement("td",null,"Loading")))))}),te=function(){return r.a.createElement(l.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/deletions-report",component:$}),r.a.createElement(i.b,{exact:!0,path:"/logins-report",component:ee}),r.a.createElement(i.b,{exact:!0,path:"/register",component:Z}),r.a.createElement(i.b,{exact:!0,path:"/login",component:X}),r.a.createElement(i.b,{exact:!0,path:"/projects",component:Y}),r.a.createElement(i.b,{path:"/project",component:V}),r.a.createElement(i.b,{exact:!0,path:"/addproject",component:z}),r.a.createElement(i.b,{path:"/editproject",component:W}),r.a.createElement(i.b,{path:"/",component:y})))},ae=a(22),ne=a(70),re=a(71),oe={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},ce={posted:!1,projects:[]},le=Object(ae.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(U.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(U.a)({},e,n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(U.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},projectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"PROJECT_CREATED":return Object(U.a)({},e,{posted:!0,project:n});case"PROJECTS_LOADED":return Object(U.a)({},e,{projects:n});default:return e}}}),ie=[re.a],se=Object(ae.createStore)(le,{},Object(ne.composeWithDevTools)(ae.applyMiddleware.apply(void 0,ie)));localStorage.token&&f(localStorage.token);var ue=function(){return Object(n.useEffect)(function(){se.dispatch(E())},[]),r.a.createElement(s.a,{store:se},r.a.createElement(l.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:y}),r.a.createElement(i.b,{component:te})))))};c.a.render(r.a.createElement(ue,null),document.getElementById("root"))},58:function(e,t,a){},59:function(e,t,a){},74:function(e,t,a){e.exports=a(109)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.73bd3997.chunk.js.map